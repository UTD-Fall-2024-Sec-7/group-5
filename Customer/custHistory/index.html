<!DOCTYPE html>
<html>
  <head>
    <link
      href="https://fonts.googleapis.com/css?family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Inika&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link href="./css/main.css" rel="stylesheet" />
    <title>Reservation History</title>
  </head>
  <body>
    <div class="header">
      <div class="logo-search-container">
        <span class="logo">Gourmet</span>
        <div class="search">
          <input type="text" placeholder="Search" />
        </div>
      </div>
      <div class="menu">
        <span class="menu-toggle">Customer &#9776;</span>
        <div class="menu-content">
          <span>Account</span>
          <span>Notification</span>
          <span>Dashboard</span>
          <span>Sign out</span>
        </div>
      </div>
    </div>

    <div class="reservation-history">
      <span class="title">Reservation History</span>
      <div class="search-section">
        <span class="search-label">Search History</span>
        <span class="sort-label">Sort by</span>
      </div>
      <table class="history-table">
        <thead>
          <tr>
            <th>Restaurant</th>
            <th>Date</th>
            <th>Party Size</th>
            <th>Amount</th>
          </tr>
        </thead>
        <tbody id="history-table-body">
          <!-- Rows will be dynamically generated here -->
        </tbody>
      </table>
    </div>

    <script>
      // Function to populate the reservation table
      function populateReservationTable(data) {
        const tableBody = document.getElementById("history-table-body");
        tableBody.innerHTML = ""; // Clear the current content

        data.forEach((reservation) => {
          const row = document.createElement("tr");

          // Create and append cells for each piece of data
          const restaurantCell = document.createElement("td");
          restaurantCell.textContent = reservation.restaurant;
          row.appendChild(restaurantCell);

          const dateCell = document.createElement("td");
          dateCell.textContent = reservation.date;
          row.appendChild(dateCell);

          const partySizeCell = document.createElement("td");
          partySizeCell.textContent = reservation.partySize;
          row.appendChild(partySizeCell);

          const amountCell = document.createElement("td");
          amountCell.textContent = reservation.amount;
          row.appendChild(amountCell);

          // Append the row to the table body
          tableBody.appendChild(row);
        });
      }

      // Fetch the reservation data from the JSON file
      fetch("reservations.json")
        .then((response) => response.json())
        .then((data) => populateReservationTable(data))
        .catch((error) =>
          console.error("Error fetching reservation data:", error)
        );

      // Menu toggle script
      document
        .querySelector(".menu-toggle")
        .addEventListener("click", function () {
          document.querySelector(".menu-content").classList.toggle("active");
        });
    </script>
  </body>
</html>
